{% extends "basic.html" %}
{% block content %}
<form action="/settings" method="post">
    {% csrf_token %}
    <div class="row">
        <div class="col align-items-center d-flex">
            <h1 class="display-1 lh-100">New Voting</h1>
            <button type="submit" class="btn btn-primary ml-auto">Save</button>
        </div>

    </div>
    <div class="row mt-4">
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-header bg-white">
                    <h3 class="text-muted text-uppercase h6 font-weight-700 mb-0">Voting info</h3>
                </div>
                <div class="card-body">
                    <div class="form-group">
                        <label for="input-title">Title</label>
                        <div class="input-group">
                            <input type="text" class="form-control" name="title" id="input-title" placeholder="Name your voting" required>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 mt-4">
            <div class="card shadow-sm">
                <div class="card-header bg-white d-flex justify-content-between align-items-center">
                    <h3 class="text-muted text-uppercase h6 font-weight-700 mb-0">Questions</h3>
                    <button class="btn btn-primary" type="button" id="btn-add-question" data-toggle="modal" data-target="#addQuestionModal">Add</button>
                </div>
            </div>
        </div>
    </div>
    <div class="row" id="questions"></div>
</form>
<!-- Modal -->
<div class="modal fade" id="addQuestionModal" tabindex="-1" role="dialog" aria-labelledby="addQuestionModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addQuestionModalLabel">Add question</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="input-text">Question text</label>
                    <div class="input-group">
                        <textarea rows="5" class="form-control" id="input-text" placeholder="Write your question text here" required></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <label>Question type</label>
                    <label class="small text-light">If you choose Buttons question type and create more than 3 possible answers, question type will be changed to Single Answer. If you choose Multiple Answers question type and create less than 3 possible answers, question type will be changed to Single Answer.</label>
                    <div class="custom-control custom-radio mb-3">
                        <input class="custom-control-input input-question-type" name="question-type" id="input-question_type_0" value="0" type="radio" required>
                        <label class="custom-control-label" for="input-question_type_0">Buttons</label>
                    </div>
                    <div class="custom-control custom-radio mb-3">
                        <input class="custom-control-input input-question-type" name="question-type" id="input-question_type_1" value="1" type="radio" required>
                        <label class="custom-control-label" for="input-question_type_1">Single Answer</label>
                    </div>
                    <div class="custom-control custom-radio mb-3">
                        <input class="custom-control-input input-question-type" name="question-type" id="input-question_type_2" value="2" type="radio" required>
                        <label class="custom-control-label" for="input-question_type_2">Multiple Answers</label>
                    </div>
                </div>
                <div class="form-group" id="form-group-answers">
                    <label for="input-text">Possible answers</label>
                    <div class="input-group">
                        <input type="text" class="input-possible-answer form-control" placeholder="Yes">
                        <div class="input-group-append">
                            <button onclick="return Votings.creation.removePossibleAnswerInput(this);" class="btn btn-outline-danger"><i class="la la-times"></i></button>
                        </div>
                    </div>
                    <div class="input-group mt-2">
                        <input type="text" class="input-possible-answer form-control" placeholder="No">
                        <div class="input-group-append">
                            <button onclick="return Votings.creation.removePossibleAnswerInput(this);" class="btn btn-outline-danger"><i class="la la-times"></i></button>
                        </div>
                    </div>
                    <button onclick="return Votings.creation.addPossibleAnswerInput(this);" class="btn btn-outline-primary mt-2 w-100">
                        Add possible answer
                    </button>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" onclick="return Votings.creation.addQuestion(this);" class="btn btn-primary" id="addQuestion-form-submit">OK</button>
            </div>
        </div>
    </div>
</div>
{% endblock content %}